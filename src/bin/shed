#!/bin/bash

if [[ $# -eq 0 ]]; then
    man shed
    exit $?
fi

MODULE=$1
shift

case $MODULE in
config)
    shed-config "$@"
    exit $?
    ;;
config-get)
    shed-config-get "$@"
    exit $?
    ;;
config-edit)
    shed-config-edit "$@"
    exit $?
    ;;
env)
    shed-env "$@"
    exit $?
    ;;
list)
    shed-list "$@"
    exit $?
    ;;
list-code)
    shed-list-code "$@"
    exit $?
    ;;
value)
    shed-value "$@"
    exit $?
    ;;
value-key-list)
    shed-value-key-list "$@"
    exit $?
    ;;
values)
    shed-values "$@"
    exit $?
    ;;
kubectl)
    shed-kubectl "$@"
    exit $?
    ;;
helm)
    shed-helm "$@"
    exit $?
    ;;
istioctl)
    shed-istioctl "$@"
    exit $?
    ;;
help)
    man shed
    exit $?
esac

echo "Unsupported module: $MODULE" >&2
exit 3
